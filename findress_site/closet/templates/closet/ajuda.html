{% extends 'closet/base.html' %}
{% load static %}

{% block title %}Ajuda - Findress{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/ajuda.css' %}">
{% endblock %}

{% block content %}

<div class="help-section">
    <div class="help-header">
        <h1 class="help-title">Central de Ajuda</h1>
        <p class="help-subtitle">Encontre respostas r√°pidas para suas d√∫vidas ou entre em contato com nossa equipe</p>
        
        <div class="search-box">
            <input type="text" class="search-input" placeholder="Digite sua d√∫vida...">
            <span class="search-icon">üîç</span>
        </div>
    </div>

    <div class="help-categories">
        <div class="category-card" onclick="scrollToSection('cadastro')">
            <div class="category-icon">üë§</div>
            <h3 class="category-title">Cadastro e Conta</h3>
            <p class="category-desc">D√∫vidas sobre criar conta, login e configura√ß√µes do perfil</p>
        </div>
        
        <div class="category-card" onclick="scrollToSection('closet')">
            <div class="category-icon">üëó</div>
            <h3 class="category-title">Meu Closet</h3>
            <p class="category-desc">Como adicionar, editar e organizar suas pe√ßas de roupa</p>
        </div>
        
        <div class="category-card" onclick="scrollToSection('combina√ß√µes')">
            <div class="category-icon">üé®</div>
            <h3 class="category-title">Combina√ß√µes</h3>
            <p class="category-desc">Sobre como criar e salvar looks com suas pe√ßas</p>
        </div>
        
        <div class="category-card" onclick="scrollToSection('app')">
            <div class="category-icon">üì±</div>
            <h3 class="category-title">App e Dispositivos</h3>
            <p class="category-desc">Funcionalidades m√≥veis e compatibilidade</p>
        </div>
    </div>

    <div class="faq-section">
        <h2 class="faq-title">Perguntas Frequentes</h2>
        
        <div id="cadastro">
            <h3 style="color: var(--lilac-primary); margin-bottom: 1rem;">Cadastro e Conta</h3>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Como criar uma conta na Findress?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Para criar sua conta, clique em "Meu Perfil" no menu superior e selecione "Cadastrar". Voc√™ pode usar seu email, Google ou Facebook. O cadastro √© gratuito e leva menos de 2 minutos.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Esqueci minha senha, o que fazer?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Na tela de login, clique em "Esqueci minha senha". Digite o email cadastrado e voc√™ receber√° um link para redefinir sua senha. Verifique tamb√©m sua pasta de spam.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Posso alterar minhas informa√ß√µes pessoais?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! Acesse "Meu Perfil" ‚Üí "Configura√ß√µes" ‚Üí "Editar Perfil". L√° voc√™ pode atualizar nome, email, foto e prefer√™ncias de estilo.
                </div>
            </div>
        </div>
        
        <div id="closet" style="margin-top: 3rem;">
            <h3 style="color: var(--lilac-primary); margin-bottom: 1rem;">Meu Closet</h3>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Como adicionar pe√ßas ao meu closet?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <ol style="margin-left: 20px; color: #555;">
                        <li>Acesse "Meu Closet"</li>
                        <li>Clique no bot√£o "+" ou "Adicionar Pe√ßa"</li>
                        <li>Preencha os dados: nome, categoria, cor, tamanho</li>
                        <li>Fa√ßa upload de uma foto da pe√ßa</li>
                        <li>Clique em "Salvar"</li>
                    </ol>
                    Dica: Tire fotos com fundo neutro para melhor reconhecimento.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Posso editar ou excluir pe√ßas j√° cadastradas?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! No "Meu Closet", clique sobre qualquer pe√ßa para ver suas op√ß√µes. Voc√™ pode editar todas as informa√ß√µes ou excluir a pe√ßa permanentemente. Exclus√µes podem ser desfeitas dentro de 7 dias na lixeira virtual.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Como organizar minhas pe√ßas por categorias?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Ao adicionar uma pe√ßa, escolha uma categoria (ex: Blusas, Cal√ßas, Vestidos). Voc√™ tamb√©m pode criar categorias personalizadas em "Configura√ß√µes do Closet". Use os filtros na barra lateral para visualizar por categoria, cor ou ocasi√£o.
                </div>
            </div>
        </div>
        
        <div id="combina√ß√µes" style="margin-top: 3rem;">
            <h3 style="color: var(--lilac-primary); margin-bottom: 1rem;">Combina√ß√µes e Looks</h3>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Como criar combina√ß√µes de looks?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    <ol style="margin-left: 20px; color: #555;">
                        <li>Acesse "Meu Closet"</li>
                        <li>Selecione as pe√ßas que deseja combinar (m√≠nimo 2)</li>
                        <li>Clique em "Criar Look"</li>
                        <li>Arraste e organize as pe√ßas na tela de montagem</li>
                        <li>Nomeie seu look e salve para acessar depois</li>
                    </ol>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    A Findress sugere combina√ß√µes automaticamente?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! Com base nas pe√ßas do seu closet e suas prefer√™ncias de estilo, nosso algoritmo sugere combina√ß√µes in√©ditas. Acesse "Inspira√ß√£o" no menu para ver sugest√µes personalizadas. Quanto mais pe√ßas cadastradas, melhores as sugest√µes.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Posso planejar looks para eventos espec√≠ficos?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! Use a funcionalidade "Planejamento de Eventos". Adicione o evento (trabalho, festa, viagem), defina o estilo desejado e receba sugest√µes baseadas no clima, ocasi√£o e suas pe√ßas dispon√≠veis. Voc√™ tamb√©m pode criar cole√ß√µes tem√°ticas.
                </div>
            </div>
        </div>
        
        <div id="app" style="margin-top: 3rem;">
            <h3 style="color: var(--lilac-primary); margin-bottom: 1rem;">App e Dispositivos</h3>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Existe aplicativo para celular?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! O app Findress est√° dispon√≠vel para iOS e Android. Baixe na App Store ou Google Play. Todas suas informa√ß√µes s√£o sincronizadas automaticamente entre web e app.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Posso usar a Findress offline?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    No app, voc√™ pode visualizar seu closet j√° carregado mesmo sem internet. Para adicionar novas pe√ßas ou usar sugest√µes em tempo real, √© necess√°ria conex√£o. No site web, √© necess√°rio estar online.
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFAQ(this)">
                    Meu closet √© sincronizado entre dispositivos?
                    <span class="faq-toggle">+</span>
                </div>
                <div class="faq-answer">
                    Sim! Todas suas pe√ßas, looks e prefer√™ncias s√£o sincronizadas em tempo real. Voc√™ pode come√ßar um look no celular e terminar no computador. Basta fazer login com a mesma conta.
                </div>
            </div>
        </div>
    </div>

    <div class="contact-support">
        <h2 class="support-title">Ainda com d√∫vidas?</h2>
        <p>Nossa equipe est√° pronta para ajudar voc√™!</p>
        
        <div class="support-options">
            <a href="mailto:suporte@findress.com" class="support-option">
                <span class="support-icon">‚úâÔ∏è</span>
                <div>
                    <strong>Email</strong>
                    <p style="margin: 0; font-size: 0.9rem;">suporte@findress.com</p>
                </div>
            </a>
            
            <a href="#" class="support-option" onclick="alert('Chat em breve dispon√≠vel!')">
                <span class="support-icon">üí¨</span>
                <div>
                    <strong>Chat Online</strong>
                    <p style="margin: 0; font-size: 0.9rem;">Seg-Sex, 9h-18h</p>
                </div>
            </a>
            
            <a href="#" class="support-option" onclick="alert('Guia do usu√°rio em PDF dispon√≠vel para download')">
                <span class="support-icon">üìñ</span>
                <div>
                    <strong>Guia do Usu√°rio</strong>
                    <p style="margin: 0; font-size: 0.9rem;">Manual completo</p>
                </div>
            </a>
        </div>
        
        <p style="margin-top: 2rem; color: #666; font-size: 0.9rem;">
            Tempo m√©dio de resposta: 24 horas √∫teis
        </p>
    </div>
</div>

<script>
    // Fun√ß√£o para alternar visibilidade das respostas
    function toggleFAQ(element) {
        const answer = element.nextElementSibling;
        const toggle = element.querySelector('.faq-toggle');
        
        // Fecha outras respostas abertas no mesmo grupo
        const parent = element.parentElement.parentElement;
        const allAnswers = parent.querySelectorAll('.faq-answer');
        const allToggles = parent.querySelectorAll('.faq-toggle');
        
        allAnswers.forEach(ans => {
            if (ans !== answer && ans.classList.contains('active')) {
                ans.classList.remove('active');
            }
        });
        
        allToggles.forEach(tog => {
            if (tog !== toggle && tog.textContent === '‚àí') {
                tog.textContent = '+';
            }
        });
        
        // Alterna a resposta atual
        answer.classList.toggle('active');
        toggle.textContent = answer.classList.contains('active') ? '‚àí' : '+';
    }
    
    // Fun√ß√£o para rolar at√© uma se√ß√£o espec√≠fica
    function scrollToSection(sectionId) {
        const element = document.getElementById(sectionId);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    }
    
    // Funcionalidade de busca simples
    document.querySelector('.search-input').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        
        if (searchTerm.length < 2) return;
        
        const questions = document.querySelectorAll('.faq-question');
        let foundAny = false;
        
        questions.forEach(question => {
            const questionText = question.textContent.toLowerCase();
            const answer = question.nextElementSibling;
            
            if (questionText.includes(searchTerm) || answer.textContent.toLowerCase().includes(searchTerm)) {
                question.parentElement.style.display = 'block';
                question.style.backgroundColor = '#fff9e6';
                
                // Abre a resposta se estiver fechada
                if (!answer.classList.contains('active')) {
                    answer.classList.add('active');
                    question.querySelector('.faq-toggle').textContent = '‚àí';
                }
                
                foundAny = true;
            } else {
                question.parentElement.style.display = 'none';
                question.style.backgroundColor = '';
            }
        });
        
        // Mostra mensagem se n√£o encontrar nada
        if (!foundAny && searchTerm.length >= 3) {
            alert(`N√£o encontramos resultados para "${searchTerm}". Tente com outras palavras-chave ou entre em contato com nosso suporte.`);
        }
    });
    
    // Abre todas as FAQs ao carregar se houver par√¢metro na URL
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('showAll') === 'true') {
            document.querySelectorAll('.faq-question').forEach(q => {
                const answer = q.nextElementSibling;
                const toggle = q.querySelector('.faq-toggle');
                
                answer.classList.add('active');
                toggle.textContent = '‚àí';
            });
        }
    });
</script>

{% endblock %}